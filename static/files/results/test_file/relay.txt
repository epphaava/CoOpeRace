duppy -c test_file.c
duppy'ing test_file.c to /home/eppha/loputoo/application/analyzers/relay-sv/tmp.M3qKjOo2GE/ciltrees
gcc -D_GNUCC -E -DCIL=1 test_file.c -o /tmp/cil-th6tHecU.i
../cil/obj/x86_LINUX/cilly.asm.exe --out /tmp/cil-ZOamq2n2.cil.c --doheapify_sep --heapify_locals --dotrans_alloc --domyptranal --dodumpfile /tmp/cil-th6tHecU.i
Making cfg for t_fun
Making cfg for main
Trans_alloc: main test_file.c:15
gcc -D_GNUCC -E /tmp/cil-ZOamq2n2.cil.c -o /tmp/cil-fJChGjLr.cil.i
gcc -D_GNUCC -c -o ./test_file.o /tmp/cil-fJChGjLr.cil.i
/tmp/cil-ZOamq2n2.cil.c:5:7: warning: conflicting types for built-in function ‘malloc’; expected ‘void *(long unsigned int)’ [-Wbuiltin-declaration-mismatch]
    5 | void *malloc(unsigned int  ) ;
      |       ^~~~~~
/tmp/cil-ZOamq2n2.cil.c:1:1: note: ‘malloc’ is declared in header ‘<stdlib.h>’
  +++ |+#include <stdlib.h>
    1 | /* Generated by CIL v. 1.3.7 */
test_file.c: In function ‘main’:
test_file.c:22:3: warning: ‘free’ called on unallocated object ‘_a15_52223_test_file_1’ [-Wfree-nonheap-object]
   22 |   return 0;
      |   ^~~~~~~~~           
test_file.c:15:11: note: declared here
   15 | int main(void) {
      |           ^~~~~~                
Generating stats for steens
DONE!
Generating stats for cil
DONE!
Generating stats for anders
DONE!
Generating stats for noalias
DONE!
Dumped in 4 seconds
Wed May 15 09:06:54 UTC 2024
WARNING: tempfile is deprecated; consider using mktemp instead.
reserved status file: /tmp//temp.statusP8W5zM
running analysis on ./tmp.M3qKjOo2GE/ciltrees
Registered summary type: rs_scc
Registered summary type: rs
Registered summary type: ss
Registered summary type: rad_ss
Args: 
 ./race_anal.exe -cg ./tmp.M3qKjOo2GE/ciltrees -r -u eppha -st /tmp//temp.statusP8W5zM -su client.cfg
Checking for data races
-----
Loading Cil Varinfo ID ranges for lookup tables
Loading ranges from .vids_ckeys_fixed
Setting Cil Varinfo ID ranges
Finished parsing config group: SUMMARY_DB
Finished parsing config group: REQUEST
Finished parsing config group: DISTRIBUTED
Finished parsing config group: FILE_SERVER
Finished parsing config group: LOCK_FUNCS
Finished parsing config group: THREAD_FUNCS
Finished parsing config group: EXIT_FUNCS
Finished parsing config group: BUILTIN_FUNCS
Finished parsing config group: ALIAS_ANALYSIS
Finished parsing config group: ENTRY_POINTS
Finished parsing config group: SYM_EX
Done reading config file
myIP: 172.17.67.34
using /tmp/relay_scratch to store acquired files
using: /tmp//temp.statusP8W5zM to track status
Initializing Steensgaard AA info
Loading function info
Loading tempVar info
Using old PTA results
Old PTA results loaded
Initializing Andersen's AA info
Using old PTA results: ./tmp.M3qKjOo2GE/ciltrees/.pta_results.anders
Old PTA results loaded
Reached end of ./tmp.M3qKjOo2GE/ciltrees/calls.anders call graph file
Num funcs: 7
Scc_cg: Pruned 5 funcs w/out bodies for scc DAG
summary database will use:
	./tmp.M3qKjOo2GE/ciltrees/relay_sums
Initializing summary rad_ss
Checking leftover state: rad_ss
[Er]: Checkpoint: No left-over status file
Initializing summary ss
Checking leftover state: ss
[Er]: Checkpoint: No left-over status file
Initializing summary rs
BS: Not doing any post-reboot cleanup
[Er]: Multiple lock summaries for pthread_mutex_unlock:6.f
[Er]: makeSimpleLock: Couldn't find global kernel_sem
[Er]: makeSimpleLock: Couldn't find global kernel_flag
[Er]: Multiple lock summaries for pthread_mutex_lock:5.f
Initializing summary rs_scc
BS: Not doing any post-reboot cleanup
SH: initEscapeable found (0, 1) thread (acts, formals)

Entry points use roots: true
file server will use: 14440
[Er]: Request fault handler with Connection refused
[Er]: Request retrying
[Er]: retry succeeded!

trying to clear old summaries / local srcs, etc.
Starting bottomup analysis
-----
[Er]: Checkpoint: No left-over status file
getting next SCC from server
Acquiring needed summaries
=================================
Starting an SCC (1) #0
=================================
Summarizing function: main : test_file.c
-----
doing symstate
Prev ldiffCache hits: 0	misses: 0

Prev GAPostCache hits: 0	misses: 0

doing lockset
doing guarded access
=================================
Finished an SCC (1)
=================================
Summary for function: main:13.f
=======

SUMS (nm, lo, un, wr, re):	main	0	0	1	2	

SS Sum:
 |-> Vval: 0
SIZES: 13.f : 34
>>> PROGRESS 1/2 SCCs DONE!

=================================
getting next SCC from server
Acquiring needed summaries
=================================
Starting an SCC (1) #1
=================================
Summarizing function: t_fun : test_file.c
-----
doing symstate
Prev ldiffCache hits: 1	misses: 4

Prev GAPostCache hits: 0	misses: 0

doing lockset
doing guarded access
=================================
Finished an SCC (1)
=================================
Summary for function: t_fun:10.f
=======

SUMS (nm, lo, un, wr, re):	t_fun	0	0	1	1	

SS Sum:
 |-> Vval: 0
SIZES: 10.f : 34
>>> PROGRESS 2/2 SCCs DONE!

=================================
getting next SCC from server
Bottomup analysis complete
-----



Beginning Thread Analysis:
-----
[Er]: No entry-points file!
Expected # thread-creation site pairs: 3
checking a thread-creation pair
Prev ldiffCache hits: 0	misses: 2

doing symstate
Prev ldiffCache hits: 1	misses: 1

doing symstate
now checking thread roots: t_fun(10.f), t_fun(10.f)
done with pair, sending notification
checking a thread-creation pair
Prev ldiffCache hits: 1	misses: 1

doing symstate
now checking thread roots: t_fun(13.f), main(13.f)
New race added to race reports
done with pair, sending notification
checking a thread-creation pair
now checking thread roots: main(13.f), main(13.f)
done with pair, sending notification
completed all thread pairs
Sorting races

Printing races

****
Possible race between access to:

myglobal @ test_file.c:4 and
myglobal @ test_file.c:4
	Cluster ID: 0
	Escapes? true / true 
	Accessed at locs:
	[test_file.c:10:(10.f)] and
	[test_file.c:19:(13.f)]

	Confidence: Syntactic

LS for 1st access:
L+ = {mutex1#g:8} (1)
LS for 2nd access:
L+ = {mutex2#g:9} (1)
	Th. 1 spawned: test_file.c:17 52258 w/ func: t_fun
	Th. 2 spawned: #entry_point:0 0 w/ func: main

Different possible paths & LS (first 4):



$$$$$$
Total Warnings: 1


Printing Alias assumptions used by warnings
-----


writeState: writing new state for Andersen to ./tmp.M3qKjOo2GE/ciltrees/.pta_temp.anders

writeState: Not needed for Steens PTA
Elapsed time (secs): 0.020012
Top heap size (MB): 0
Current heap size (MB): 0
Lifetime allocated bytes (MB): 3
Collections -- minor: 12 major: 3 compactions: 0
Bytes per word: 8
Exhausted tries: 1
return value is 0
ran 1 times
cleared status file: /tmp//temp.statusP8W5zM
Wed May 15 09:06:57 UTC 2024
server.exe: no process found
